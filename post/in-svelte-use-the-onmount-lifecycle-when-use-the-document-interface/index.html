<html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon-16x16.png><title>ggdG:wq! - Svelteで Document インターフェイスを使いたい時は onMountライフサイクルを使う</title><meta content="Svelte,JavaScript,Frontend,tech" name=keywords><meta content="ggdG:wq! - Svelteで Document インターフェイスを使う方法" name=description><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="ggdG:wq!"><meta property="og:title" content="ggdG:wq!"><meta property="og:description" content="Svelteで Document インターフェイスを使う方法"><meta property="og:type" content="website"><meta property="og:url" content="https://ggdg.tkan.dev/post/in-svelte-use-the-onmount-lifecycle-when-use-the-document-interface/"><meta property="og:image" content="https://ggdg.tkan.dev/images/avatar2020.jpg"><meta name=twitter:card content="summary"><meta name=twitter:site content="https://ggdg.tkan.dev/post/in-svelte-use-the-onmount-lifecycle-when-use-the-document-interface/"><meta name=twitter:image content="https://ggdg.tkan.dev/images/avatar2020.jpg"><link rel=stylesheet href=/css/new.css type=text/css><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-89403151-6"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','UA-89403151-6');</script></head><body><header><h1>Svelteで Document インターフェイスを使いたい時は onMountライフサイクルを使う</h1><nav><a href=https://ggdg.tkan.dev/>Home</a> /
<a href=https://ggdg.tkan.dev//post>All Posts</a> /
<a href=https://ggdg.tkan.dev//about>About</a></nav></header><div class=container><div id=content style=min-height:80%><p><strong>※注意!! 動作検証はしてますが、勉強不足により、この方法がベストなのか分かってないです。参考程度にお願いいたします。</strong></p><h2 id=何がしたいか>何がしたいか</h2><p>こういうHTMLから</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>&gt;Text&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><p>文字列 &ldquo;Text&rdquo; を取得したい。</p><p>JavaScriptで普通にやるなら以下のように書けば良いが、Svelteではそうはいかなかった</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;text&#39;</span>);
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>textContent</span>);
</code></pre></div><h2 id=どうすればいいか>どうすればいいか</h2><p>onMountライフサイクルを使って、以下のように書けばOK (<a href="https://svelte.dev/repl/6ae127160841452285c1e9386ff649cf?version=3.31.2">REPLでの動作確認</a>)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>script</span>&gt;
    <span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>onMount</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;svelte&#39;</span>;
    <span style=color:#a6e22e>onMount</span>(() =&gt; {
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;text&#39;</span>);
        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>textContent</span>);
    });
&lt;/<span style=color:#f92672>script</span>&gt;

&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>&gt;Text&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><h2 id=あとがき>あとがき</h2><p>Web Frontend 周辺何も分からないので、最近Svelteに手を出してみています。<br>世界ではReactが流行っているようですが、なにかのタイミングでSvelteを見たときにEasyな気配がして選びました。</p><p>まだTutorialを読んでいる途中ぐらいの段階ですが、公式ドキュメントも充実しているので印象は良いです。<br>以前はサポートしていなかったようですが、現在はTypeScriptもサポートされています。<br>今年中にSvelte + Sapperでアプリを作れたら嬉しいなーというお気持ちです。</p></div></div></body></html>